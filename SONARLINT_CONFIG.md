# SonarLint Configuration Guide

This document explains how to configure and use SonarLint for the Journal Index Integration project.

## üìÅ Configuration Files

### 1. `sonar-project.properties`
Main SonarQube project configuration file for Maven integration.

### 2. `sonar-lint.properties`
IDE-agnostic SonarLint configuration file.

### 3. `.sonarlint/sonarlint-config.xml`
SonarLint IDE configuration for advanced settings.

### 4. `.vscode/settings.json`
VS Code specific SonarLint settings.

## üöÄ Quick Start

### Prerequisites
- Java 11 or higher
- Maven 3.6 or higher
- SonarLint extension for your IDE (optional)

### Running Analysis

#### Option 1: Using the Script (Recommended)
```bash
./run-sonar.sh
```

#### Option 2: Using Maven
```bash
# Clean and compile
mvn clean compile

# Run tests
mvn test

# Generate coverage report
mvn jacoco:report

# Run SonarQube analysis (if server is running)
mvn sonar:sonar
```

#### Option 3: Using SonarLint CLI
```bash
# Install SonarLint CLI
npm install -g sonarlint

# Run analysis
sonarlint
```

## ‚öôÔ∏è Configuration Details

### Project Settings
- **Project Key**: `journal-index-integration`
- **Project Name**: `Journal Index Integration`
- **Version**: `1.0.0`
- **Java Version**: `11`
- **Encoding**: `UTF-8`

### Source Code Configuration
- **Sources**: `src/main/java`
- **Tests**: `src/test/java`
- **Binaries**: `target/classes`
- **Libraries**: `target/lib/*.jar`
- **Test Binaries**: `target/test-classes`

### Exclusions
The following files and directories are excluded from analysis:

#### General Exclusions
- `**/target/**` - Maven build output
- `**/node_modules/**` - Node.js dependencies
- `**/*.md` - Markdown files
- `**/docker-compose.yml` - Docker configuration
- `**/Dockerfile` - Docker image definition
- `**/deploy.sh` - Deployment script
- `**/select-profile.sh` - Profile selection script
- `**/package.json` - Node.js package file
- `**/serverless.yml` - Serverless configuration
- `**/env.*` - Environment files
- `**/.env*` - Environment files
- `**/pom.xml` - Maven configuration
- `**/generated-sources/**` - Generated source code

#### Test Exclusions
- `**/target/**` - Maven build output
- `**/node_modules/**` - Node.js dependencies
- `**/generated-test-sources/**` - Generated test code

#### Coverage Exclusions
- `**/entity/**` - JPA entity classes
- `**/dto/**` - Data Transfer Objects
- `**/model/**` - Model classes
- `**/config/**` - Configuration classes
- `**/Application.java` - Main application class
- `**/LambdaHandler.java` - Lambda handler
- `**/ImportCommandLambdaHandler.java` - Import command handler
- `**/generated-sources/**` - Generated source code

#### Duplication Exclusions
- `**/entity/**` - JPA entity classes
- `**/dto/**` - Data Transfer Objects
- `**/model/**` - Model classes
- `**/generated-sources/**` - Generated source code

### Quality Gates

#### Coverage Thresholds
- **Minimum Coverage**: 70%
- **Coverage Highlighting**: Enabled

#### Duplication Thresholds
- **Minimum Tokens**: 100
- **Minimum Lines**: 5

#### Quality Ratings
- **Maintainability Rating**: 1.0
- **Reliability Rating**: 1.0
- **Security Rating**: 1.0
- **Technical Debt Rating**: 1.0
- **Code Smells Rating**: 1.0
- **Hotspots Rating**: 1.0

### Issue Exclusions

#### Rule Exclusions
- **java:S107** (Too many parameters) - Excluded for entity classes
- **java:S1186** (Empty methods) - Excluded for test, repository, and service classes
- **java:S1118** (Utility classes) - Excluded for configuration classes

#### Resource Exclusions
- **Entity Classes** - Excluded from parameter count rules
- **Test Classes** - Excluded from empty method rules
- **Configuration Classes** - Excluded from utility class rules
- **Repository Interfaces** - Excluded from empty method rules
- **Service Classes** - Excluded from empty method rules
- **Generated Sources** - Excluded from empty method rules

## üîß IDE Integration

### VS Code
1. Install the SonarLint extension
2. Configure the settings in `.vscode/settings.json`
3. Set your SonarQube server URL and token
4. Enable real-time analysis

### IntelliJ IDEA
1. Install the SonarLint plugin
2. Configure SonarQube connection
3. Enable real-time analysis
4. Set up quality profiles

### Eclipse
1. Install the SonarLint plugin
2. Configure SonarQube connection
3. Enable real-time analysis
4. Set up quality profiles

## üìä Reports

### Code Coverage Report
- **Location**: `target/site/jacoco/index.html`
- **Format**: HTML
- **Generated by**: JaCoCo Maven plugin

### Test Results
- **Location**: `target/surefire-reports/`
- **Format**: XML and HTML
- **Generated by**: Maven Surefire plugin

### SonarQube Report
- **Location**: SonarQube server (if running)
- **URL**: `http://localhost:9000`
- **Format**: Web interface

## üö® Troubleshooting

### Common Issues

#### 1. Maven Build Fails
```bash
# Clean and retry
mvn clean compile

# Check Java version
java -version

# Check Maven version
mvn -version
```

#### 2. SonarQube Connection Fails
```bash
# Check if SonarQube server is running
curl http://localhost:9000/api/system/status

# Check SonarQube logs
tail -f logs/sonar.log
```

#### 3. Coverage Report Not Generated
```bash
# Run tests first
mvn test

# Generate coverage report
mvn jacoco:report

# Check if report exists
ls -la target/site/jacoco/
```

#### 4. SonarLint CLI Not Found
```bash
# Install SonarLint CLI
npm install -g sonarlint

# Verify installation
sonarlint --version
```

### Debug Mode
Enable debug mode for detailed logging:

```bash
# Maven debug mode
mvn -X sonar:sonar

# SonarLint CLI debug mode
sonarlint --debug
```

## üìà Best Practices

### 1. Regular Analysis
- Run analysis after each major change
- Integrate with CI/CD pipeline
- Set up quality gates

### 2. Code Quality
- Address critical and major issues first
- Maintain high test coverage
- Follow coding standards

### 3. Security
- Review security hotspots regularly
- Keep dependencies updated
- Use secure coding practices

### 4. Performance
- Monitor code complexity
- Optimize slow operations
- Use efficient algorithms

## üîó Useful Links

- [SonarQube Documentation](https://docs.sonarqube.org/)
- [SonarLint Documentation](https://www.sonarlint.org/)
- [JaCoCo Documentation](https://www.jacoco.org/jacoco/trunk/doc/)
- [Maven Surefire Plugin](https://maven.apache.org/surefire/maven-surefire-plugin/)

## üìû Support

For issues related to SonarLint configuration:

1. Check this documentation
2. Review SonarQube logs
3. Check Maven build output
4. Verify Java and Maven versions
5. Contact the development team

---

**Happy coding with SonarLint! üöÄ**
